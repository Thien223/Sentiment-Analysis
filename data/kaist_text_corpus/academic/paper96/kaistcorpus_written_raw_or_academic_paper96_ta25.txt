<language> Korean </language>
<textcode> KSC-5601-1988 </textcode>
<process> raw </process>
<version> 2001(or)</version>
<filename> kaistcorpus_written_raw_or_academic_paper96_ta25.txt </filename>
<title> 자동물류취급시스템의 설계 및 실시간 운용에 관한 연구( A  Study on the Design and  Real-time Operation of an Automatic Material Handling System) </title>
<author> 우중원 </author>
<date> 1993</date>
<publisher> 서울대학교 </publisher>
<kdc> TM550.78 </kdc>
<tdmsfiletext>
                        국 문 요 약 

       자동물류취급시스템의 설계 및 실시간 운용에 관한 연구

   본 연구의 목적은 복잡한 다품종소량생산시스템에 대한 모델링을 기반으로 하여 주어진  생산시스템에 적합한 자동물류취급시스템의 설계,  설치 및 실시간 운용에관한 기반을 제공하는 데 있다.
   생산시스템에 대한  성능평가를 위하여,  다품종소량생산시스템을 모델링하기에 적합한 Colored and Stochastic 페트리네트를 정의하였으며, 이를 강남성모병원 외래약국의  경우에 적용하여  모델링을 실시하고 시뮬레이션을 수행하여 자동물류취급시스템의 설치시 고려되어야 하는 설계변수들을 결정하였다.   이와 같이 결정되어진 설계변수를 기반으로 강남성모병원 외래약국에 자동물류취급시스템을 설치하였으며,  설치후에 측정되어진 AGV와  AS/RS의 가동률, 시간별 투약대기시간을 시뮬레이션에서 얻어진 결과와  비교하여 시뮬레이션의 타당성을 검증하였다.
   또한, 자동물류취급시스템이  설치되어지기 전의  투약대기시간과 설치되어진 후의 투약대기시간 비교를 통하여 설계변수의 타당성을 확인하였다.
주요어 : 자동물류취급시스템, AGV, AS/RS, Colored and Stochastic페트리네트
   
1. 서 론

물류 취급시스템은 그 중요성에도 불구하고 오랜 기간 동안 생산시스템에 대한 연구의 대상에서 제외되어 왔었다.  물류취급시스템에 대한 분석의 어려움이 그 이유중의 하나이기도 하지만 물류취급시스템을 생산체계의 핵심인 생산공정에 종속되는 하위의 시스템으로 파악했던 전통적인 과거의 관점으로 인하여 물류시스템에 대한 관리가 불필요한 것으로 간주된데에도 그 이유가 있다.  과거의 물류취급시스템에 대한 인식은 공급되어진 물류를 생산부로 이동하는 부분만이었으며 이후의 가공공정간의 물류이동은 물류취급시스템의 영역밖에 해당하는 것이었다.  그러나 자동화 시스템의 개발로 말미암아 물류취급시스템에 대한 관심이 증가되었고 현재는 생산체계에 있어서 생산공정 못지않게 중요한 역할을 담당하고 있는 것으로 인식되기에 이르렀다.  통합된 생산체계에 있어서의 물류취급시스템은 "적절한 양의 올바른 물류를 올바른 장소, 시간에 적절한 순서로 적합한 조건하에 적절한 비용으로 제공하는 적절한 방법" 으로 정의되어 진다[1].  즉 물류취급시스템은 독립된 보관장소로부터 생산부까지의 물류이동뿐만이 아니라 생산체계내의 각 가공셀들간의 물류이동과 온라인 임시보관장소의 역할까지 담당하여 생산체계내의 여러 구성부분들의 경계선을 이어주는 역할을 담당하는 생산체계의 통합자인 것이다[2].  
일반적으로 콘베이어벨트시스템, 무인운반차 (AGV, Automated Guided Vehicle), 자동 입고/출고 장치 (AS/RS, Automated Storage/Retrieve System)등으로 구성되어지는 물류취급시스템에 대한 관심이 높아지면서 특히 자동화 생산라인에 적합한 AGV와 AS/RS에 관련된 많은 연구가 활발히 수행되었다.  Bozer[3]는 AGV의 dispatching rule에 관한 연구를 수행하였으며, Rosenblatt[4]는 AS/RS의 보관물품종류와 보관장소, 설비의 가격, 콘테이너의 크기를 고려한 설계에 대한 연구를 수행하였다.  Sabuncuoglu[5]등은 물류취급시스템을 포함한 FMS의 스케줄링에 관한 연구를 수행하였으며 Carson[6], Ram[7]등은 생산시스템의 시뮬레이션에 대한 연구를 수행하였다.  
본 논문에서 포함하는 연구내용은 다음과 같다. 
첫째, 자동물류취급시스템이 설치되어진 생산체계에 대한 모델링 및 시뮬레이션에 대한 연구를 수행한다.  주어진 생산체계에 설치된 자동물류취급시스템에 대한 분석을 수행하고 평가하기 위한 시뮬레이션 모델을 개발한다.  본 연구의 대상 물류취급시스템이 다품종소량생산형테에 가까운 복잡한 생산시스템이므로, Colored and Timed 페트리네트[9]에 확률의 개념을 도입한 Colored and Stochastic페트리네트를 정의하고 이를 이용한 모델링을 수행한다.
둘쩨, 물류취급시스템의 성능과 사양을 최적화하는 설계변수의 결정에 대한 알고리즘을 제시한다.  이를 통하여 실제로 물류취급시스템의 설계시 필요한 설계변수를 결정하여 물류취급시스템구축을 위한 기본설계의 기초자료를 제시한다.
셋째, 자동물류취급시스템의 설치에 대한 사례연구를 통하여, 제시된 모델과 알고리즘의 타당성을 검증한다.  본 연구의 결과를 기초로 설계되어  현재 운용중인 강남성모병원 외래약국의 자동물류취급시스템을 실례로 들어서, 시뮬레이션 모델에 대한 타당성을 검증한다.
본 논문의 제2장에서는 자동물류취급시스템에 대한 문제정의를 정리하며, 제3장에서는 문제정의를 통하여 명시된 문제들을 해결하기 위한 시스템의 분석방법에 대하여 언급을 하고, 제4장에서는 구체적 적용사례에 대한 적용배경과 이의 분석을 위한 자료, 이의 모델링과 시뮬레이션 결과 및 구체적인 설치현황에 대하여 기술하며, 마지막으로 시뮬레이션 결과와 실제운용과의 결과를 비교, 분석한다.  그리고, 제 5장에서는 결론과 향후 연구과제를 기술한다. 


2. 문제정의

본 논문은 극단적인 다품종 소량 체제의 생산시스템 환경에서의 자동물류취급시스템의 설계와 설치 및 운용효과를 분석하는 방법을 연구하는데 그 목표가 있다.  일반적으로, 생산시스템이 아래와 같이 구성된다고 가정한다.  

(1) 생산공정은 N개의 공정군으로 이루어지며, i번째 공정군 Pi에는 mi개의 기계가 생산라인에 존재한다. 
(2) 각 공정군의 기계배치는 임의로 변경가능하며, 공정군과 기계들의 최적배치는 초기에는 알지 못한다고 가정한다.  단, 물류의 투입공정과 검사공정의 위치는 고정되어 있으며, 기계간의 거리와 공정군간의 위치에도 제한사항이 존재한다.
(3) 검사공정 PN+1과 출고공정 PN+2사이에는 출고지연을 감안한 일시저장 버퍼가 존재한다.
(4) 생산제품은 최대 M개의 종류의 제품으로 이루어지며 cj종류의 제품의 생산량은 xj개이다.  각 제품별 요구공정은 투입공정 P0로 시작하며, 임의의 순서 및 갯수의 공정군 Pi ( 1 i N )들을 거쳐서, 검사공정 PN+1에서 종료되며, 각 공정군( P0, PN+1포함 )에서 소요되는 시간은 각 제품별로 다르다.

위와 같이 가정되는 생산시스템에 적합한 물류취급시스템을 설계, 설치하기 위하여 해결해야 할 문제들은 다음과 같다.  물류취급시스템의 기본배치도는 그림 1.과 같다.

(1) 생산제품군 PG(c:x)에 대한 생산공정군의 최적배치안 OFP(P:m)을 결정하는 문제.
(2) 최적배치안 OFP(P:m)에 대해서 AGV를 사용할 경우, 생산제품군 PG(p:m)에 대한 AGV속도분포 VAGV(P)와 로트의 크기에 대한 가동률 WRAGV의 관계를 결정하여 문제에 적합한 AGV의 속도분포와 운반로트크기를 결정하는 문제.
(3) 주어진 AGV조건과 생산제품군 PG(c:x)에 대해서, P0로부터 PN+1까지 제품생산 Lead-Time분포 PL(c:x)와 투입공정 P0에서 재공량분포 QP0(t)를 예측하는 문제.
(4) 일시저장 버퍼를 스텍커크레인이 부착된 AS/RS로 설계할 경우, 검사공정 PN+1에서의 완제품 완성싯점 Ti(c:x)와 출고공정 PN+2에서의 출고싯점 T0(c:x)차이에 대한 AS/RS의 버퍼의 크기를 결정하는 문제. 
(5) 검사공정 PN+1에서의 완제품 완성률 PRi(c:x)와 출고공정 PN+2에서의 출고싯점 PR0(c:x)차이에 대한 스텍커크레인의 이송속도 VASRS(b)와 AS/RS의 전단의 재공량분포QASRS(t)의 관계를 예측하는 문제.
(6) 작업지시 (P0) 부터 출고완료 (PN+2)까지의 전체 Lead-Time분포 TPL(c:x)를 분석하는 문제.

3. 시스템 분석 방법

3.1 시뮬레이션 모델

시스템을 분석하기 위한 모델은 크게 해석적인 모델과 시뮬레이션 모델로 구분할 수 있다.
시스템의 해석적인 모델은 시스템의 동특성을 수학적인 변수로 표현하는 모델로서 비교적 정확한 결과를 효과적으로 얻을 수 있는 장점을 가지고 있다.  그러나 해석적인 모델을 구성하기 위해서는 많은 제한적인 가정이 필요하므로 실제로 적용하는데 많은 어려움을 가지고 있다.  
시뮬레이션 모델은 결과를 해석하기가 종종 어려우며, 결과를 얻는데 시간이 많이 걸린다는 단점에도 불구하고, 실제대상의 동특성을 내재하고 있으므로 신뢰도가 비교적 높고, 모델 구성에 적은 가정이 요구된다는 장점으로 인하여 널리 이용되고 있다.  특히 생산시스템의 경우 재고량이나 기계의 상태등 시스템을 표현하는 상태변수들이 불연속적인 시간의 변화에 따라서 변하므로 동적, 통계적,이산 현상 시뮬레이션 모델이 많이 쓰이고 있다.  
시뮬레이션 모델을 개발하는 방법은 모델의 접근법에 있어서 크게 세가지로 구분할 수 있다.[8]  세가지의 방법중 가장 광범위하게 쓰여지는 모델링 방법은 네트워크 모델을 이용하는 것으로 이 모델에서 기계와 같은 객체들은 기호로서 표현되며  실제세계에서 물리적으로 연결되어 있는 것과 같은 방식으로 연결되어 있다.  이와 같은 방식은 GPSS, SIMAN, SLAM, GEMS등과 같은 시뮬레이션 언어들을 포함한다.  이 방식은 모델을 개발하기가 비교적 쉬우며 대부분의 모델링이 가능하지만 모델링 능력에서 어느정도의 한계를 갖고 있다.  
또 하나의 방법은 기존의 프로그래밍 언어를 직접 이용하는 방법이다.  이 경우 모델링의 가능한도는 매우 광범위하여지지만 개발하기가 어렵다는 단점이 있다.  나머지 하나의 방법은 데이터 구동방식의 모델을 이용하는 것이다.  이 경우 모델링하고자 하는 대상의 정보는 숫자들의 집합으로 이루어는데 이 자체가 모델로 인식이 되며 결과는 구축되어 있는 데이터 베이스에 의하여 얻어진다.  GCMS, MAST, MAP/1등을 포함하는 이 방식은 사용하기가 극히 쉽다는 장점이 있으나 사용범위는 극히 제한이 된다.  

3.2 페트리네트

자동화된 생산시스템을 해석하기 위한 페트리네트의 사용은 고전적인 페트리네트와 Timed and stochastic Petri Net의 두가지로 구분되어질 수 있다.  고전적인 페트리네트는 생산시스템의 모델링과 해석, 유효성에 대한 검증을 위해서 사용되어진 반면에 Timed and stochastic Petri Net는 생산시스템의 성능평가와 시뮬레이션을 위하여 사용되어져 왔다.  
페트리 네트를 이용한 시뮬레이션 모델은 다른 방법과 비교할 때 다음과 같은 장점을 가지고 있다[9].  

 ㄱ. 이상현상시스템의 특성을 모델링 할 수 있다.
 ㄴ. 시각적으로 확인할 수 있어 모델링이 용이하다.
 ㄷ. 시스템 정지등 바람직하지 않은 현상을 확인하기에 용이하다.
 ㄹ. 페트리네트 모델로부터 이산현상시스템의 제어모듈을 개발하기에 용이하다. 
 ㅁ. 페트리네트 모델로부터 이산현상시스템의 성능을 평가하기가 용이하다. 
일반적인 페트리네트는 다음과 같이 정의되어 진다.
Definition 1.  페트리네트는 의 5개의 요소로 구성되어진다.  이때 구성요소들은 다음과 같다.
 , n>0, 플레이스(place)
 ,   m>0, 트랜지션(transition)
 , 플레이스에서 트랜지션으로 가는 입력함수
 , 트랜지션에서 플레이스로 가는 출력함수
 , 초기 마킹(marking), 각각의 플레이스에 해당하는 token의 초기 갯수 

페트리네트 모델에서 플레이스들은 기계나 인적자원의 상태, 또는 버퍼등을 나타내며 트랜지션들은 사건의 발생 또는 사건발생기간을 나타낸다.  또한 토큰은 각각의 자원 상태가 참값을 갖는지의 여부나 버퍼의 상태를 나타내며 입력함수와 출력함수는 플레이스와 트랜지션들간의 다양한 형태의 관계를, 초기마킹은 시스템의 초기상태를 나타낸다.  페트리네트를 그래프로 표시하기도 하는 데, 일반적으로 플레이스는 원으로, 트랜지션은 막대로, 토큰은 점이나 정수로 표시되어진다.
페트리네트로 표시된 시스템은 토큰의 이동으로 시스템의 변화를 나타낸다.  토큰은 트랜지션의 Enabling과 Firing작업에 의하여 이동을 하게되며 이와 같은 작업들에 대한 정의는 다음과 같다.  
Definition 2.  입력플레이스군과 출력플레이스군은 다음과 같이 정의되어진다.
 , 트랜지션의 입력플레이스군
 ,트랜지션의 출력플레이스군
Definition 3.  어떤 페트리네트 의 마킹을 이라고 한다.  이 때 트랜지션 는 다음과 같은 조건을 만족하면 enabled되었다고 한다.
  
마킹 M에서 enabled된 트랜지션는 fire되어질 수 있다.  트랜지션 t가 fire되어질 때 페트리네트의 마킹은 M'로 변화되며 다음과 같은 식을 만족한다.
  
이 경우에 마킹 M'는 M으로부터 reachable하다고 하며 로 표현한다.
이와 같이 정의되어지는 페트리네트는 기본적인 이산현상시스템을 표현할 수 있다.  하지만 복잡한 시스템의 경우에는 이와 같은 페트리네트의 적용이 한계를 가지게 되므로 많은 요소와 다양한 정보를 처리하기 위하여 Colored 페트리네트가 개발이 되었다[10].  Colored페트리네트는 기존의 페트리네트에 트랜지션과 플레이스의 색을 지정할 수 있도록 한 것으로서 이를 생산시스템에 적용한다면 다양한 종류의 생산품을 여러가지 토큰의 색으로 표현할 수 있게 되어 모델링의 영역이 넓어지게 되었다.  Colored 페트리네트는 다음과 같이 정의되어 진다.
Definition 4.  Colored 페트리네트는 의 6개의 요소로 구성되어진다.  이때 구성요소들은 다음과 같다.
 , n>0, 플레이스(place)
 ,   m>0, 트랜지션(transition)
 
 
 
 
 , 초기 마킹(marking) 
Colored페트리네트의 경우에 트랜지션의 enable과 fire의 법칙은 다음과 같아진다.
(1) 입력함수 플레이스에 있는 토큰의 색이 트랜지션의 색과 일치하면 트랜지션은 enable된다.
(2) 트랜지션의 fire되면, 플레이스와 트랜지션의 결합관계에 의하여 입력 플레이스의 토큰을 이동시킨다.
(3) 출력함수에 따라 출력 플레이스 토큰의 색이 바뀔 수 있다.
또한 실시간 이산현상시스템( real-time discrete event system)을 해석 및 검증하기 위하여 시간의 개념이 들어간 Timed페트리네트가 개발되었으며[11] 이에 확률의 개념이 포함되어 Stochastic페트리네트가 개발되었다.  Stochastic 페트리네트는 다음과 같이 정의되어진다.
Definition 5.  Stochastic페트리네트는 의 6개의 요소로 구성되어진다.  이 때 는 기존의 페트리네트를 의미하며은 firing함수이다.  초기마킹으로부터 reachable한 마킹 에서 firing함수 F는 각각의 트랜지션에 임의의 확률분포를 갖는 firing 시간을 mapping한다.
Stochastic 페트리네트의 경우 트랜지션이 마킹 M에서 enable되어지면 토큰은 입력플레이스에서 F에 의한 확률분포로부터 정해지는 firing시간 t동안 머문 후에  앞에서 언급한 firing법칙에 의거하여 이동하게 된다.  
복잡한 생산시스템을 모델링하여 시스템의 분석 및 성능평가를 수행하기 위해서는 Colored페트리네트의 특성과 Stochastic페트리네트의 특성을 동시에 가지는 페트리네트가 필요하다[9].  앞에서 정의된 Colored페트리네트와 Stochastic페트리네트로부터 Colored and Stochastic 페트리네트를 정의할 수 있으며 이는 다음과 같다.
Definition 6.  Colored and Stochastic 페트리네트 는 다음과 같은 7개의 요소로 구성되어진다.
   : 
  
  
  
  
  
  
  , 초기 마킹(marking) 
  , firing 함수
이와 같이 정의되어지는 Colored and Stochastic 페트리네트에서는 다음과 같은 법칙에 따라서 트랜지션의 enable과 fire가 발생한다.
(1) 입력함수 플레이스에 있는 토큰의 색이 트랜지션의 색과 일치하면 트랜지션은 enable된다.
(2) enable된 트랜지션은 firing함수 F에 의해 mapping되어지는 firing시간이 지난 후에 fire된다.
(3) 트랜지션의 fire되면, 플레이스와 트랜지션의 결합관계에 의하여 입력 플레이스의 토큰을 이동시킨다.
(4) 출력함수에 따라 출력 플레이스 토큰의 색이 바뀔 수 있다.

4. Case Study

자동물류취급시스템의 설치 및 운용사례로서 강남성모병원의 조제실 자동화 사례를 제시한다.  이것은, 본 논문의 연구결과를 통해서 설계된 것으로서 Colored and Stochastic페트리네트 모델을 이용한 시뮬레이션을 수행하여 AGV와 AS/RS의 설계변수를 결정하였다.

4.1 적용배경

종합병원의 조제실은 극단적인 다품종 소량생산 체계의 좋은 예로 볼수 있다.  수십명의 의사들이 같은 시간대에 외래진료를 하며 약을 처방함으로써 업무를 발생시키는 대학병원 외래약국의 조제시스템은 업무발생빈도와 업무종류가 결정적이지 않으며, 업무발생이 몇몇 시간대에 집중되어 있고, 업무의 종류와 처리시간이 처방전마다 다르며, 업무가 발생된 시점에 처리되어야 한다는 특성을 갖는다.  그러나 하나의 처방전이 정해진 공정을 거치며 약들이 조합되어 완성된 제품이 되고, 이것이 환자에게 전달됨으로써 업무가 완료된다는 입장에서 볼 때 일반제품의 제조모형 범주를 벗어나지 않음을 앝 수 있다. 
가톨릭의과대학 부속 강남성모병원 외래약국의 경우, 하루평균 1200여개의 약을 조제하고 운반하는 과정에서 극심한 물류이동의 정체를 나타내었으며 이에 자동물류취급시스템의 설치가 필요하게 되어, 현재 그림 2.와 같은 배치도로서 설치 및 운용되고 있다.
자동물류취급시스템의 설치 취지는 다음과 같다.

(1) 그림 3.과 같은 무인반송차(AGV)의 설치 및 조제약 운반용기의 표준화를 통한 물류운반체계의 개선.
(2) 그림 4.와 같은 자동창고(AS/RS)의 설치를 통한 조제완료약 보관과 투약체계의 개선.
(3) 도입되는 설치들의 시스템 분석에 의한 설비의 재배치를 통한 조제작업방식의 최적화와 약사업무 동선의 최소화.

4.2 문제정의 

강남성모병원 조제실을 생산시스템으로 가정하여, 제2장의 문제정의에 따라서 기술하면 다음과 같다.
(1) 생산공정은 N=6개의 공정군으로 이루어진다. 
    P1공정군 : 자동정제제조기(ATC) 1대
               자동정제제조기 검사약사 1명
    P2공정군 : 정제포장기 3대, 검사약사 3명 
    P3공정군 : 물약조제 약사 1명, 검사약사 1명
    P4공정군 : 소아과조제 약사 1명, 검사약사 1명
    P5공정군 : 계수조제 약사 1명, 검사약사 1명
    P6공정군 : 외용제/예제제/PTP 조제약사 1명
               검사약사 1명
(2) 투입공정 및 검사공정은 고정되어 있으며, 최적배치는 아직 결정되지 않았다. 
    투입공정 P0 : 작업분배약사 2명
    검사공정 P7 : 검사자 1명
(3) 검사공정 P7와 출고공정 P8사이에는 일시저장버퍼로서 소형 AS/RS가 존재한다.
(4) 생산제품은 최대 1500개의 종류를 넘지 않으며(M=1500), 각 제품의 생산량 xj=1개로서, 극도의 다품종 소량생산체계이다. 제품별 공정종류는 그림 5.와 같이 분류될 수 있다.

위와 같은 생산시스템에 대해서 적합한 물류취급시스템을 설계, 설치하기 위하여 해결해야 할 문제들은 제2장에 제시된 6가지 문제항목들과 같다.

4.3 모델링 및 설계변수의 결정

강남성모병원 조제실의 경우, 자동물류취급시스템 설치 이후의, 각 처방전이 조제되어 투약되기까지의 개괄적인 흐름은 다음과 같다.  각 처방전은 수납창구에서 에어슈트를 통해서 외래약국으로 전달되어 투입공정인 작업분배과정을 거쳐서 각 가공군으로 AGV를 통해서 전달된다.  각 가공군에서는 전달된 처방전에 의하여 약을 가공하고 약제조에 대한 검사를 마친 뒤 다음 가공이 요구되는 가공군으로 AGV를 통하여 약을 전달한다.  모든 가공을 마치고 검사공정으로 전달된 약은 최종검사자에 의하여 약의 크기에 맞는 운반용기에 담겨져서 AS/RS로 전달된다.  AS/RS에서는 약이 투약이 요구된 약인지를 확인하여 출고를 하거나, 투약이 요구될 때까지 창고에 보관을 하게된다. 
이상과 같이 작업이 이루어지는 시스템에서의 상태들과 사건들을 정의하면 페트리네트의 플레이스와 트랜지션을 구성할 수 있다.  AGV와 AS/RS부분을 제외한 플레이스와 트랜지션을 그림 6.에 나타내었으며 AGV에 대한 플레이스와 트랜지션을 그림 7.에, AS/RS에 대한 플레이스와 트랜지션은 그림 8.에 나타내었다. 
이들 플레이스와 트랜지션들로 구성되는 전체 페트리네트모델에 대한 시뮬레이션을 수행하기 위하여 측정된 각 시간대별 처방전입력, 즉 물류입력은 그림 9.와 같으며 또한 제품별 (조제약별)로 12가지 공정의 발생 빈도는 그림 5.와 같다.  
이러한 자료를 근거로 페트리네트를 이용한 시뮬레이션을 수행하였으며 이를 통하여 AGV와 AS/RS의 설계변수를 결정하였다.
AGV에 관계된 설계변수는 적절한 AGV의 속도와 AGV에 의하여 한번에 이송되는 약의 일괄작업의 갯수의 2가지이다.  업무가 일괄처리될 경우 그렇지 않았을 때보다 평균대기시간이 길어진다는 것은 대기이론(queueing theory)분야에서 이미 밝혀진 바 있다[12].  그러나 본 시스템과 같은 경우 AGV속도의 한계로 인해 일괄처리가 되지 않을 경우 물류의 정체가 AGV에서 발생하게 된다.  또한 일괄처리갯수가 너무 커지면 일괄처리를 대기하는 과정에서 물류가 정체하게 되므로 적절한 일괄처리의 갯수를 결정할 필요가 있다.  일괄처리갯수는 AGV의 속도에 관계되는 양이므로 독립적으로 결정할 수가 없다.  본 시스템에서는 다음과 같은 알고리즘을 이용하여 AGV의 속도와 일괄처리갯수를 결정하였다.
(1) 실현 가능한 AGV의 최대처리속도와 AS/RS의 최대 처리속도를 이용하여 평균투약대기시간을 최소로 하는 적절한 일괄처리갯수를 결정한다.
(2) 이와 같이 결정된 AGV의 일괄처리갯수에 대하여 AGV의 속도를 변화시키며 AGV처리속도의 타당성을 확인한다.
위의 절차에 대하여 페트리네트를 이용하여 시뮬레이션을 한 결과 일괄 처리 갯수가 4개일 때 평균대기시간이 최소로 나타났으며 이를 그림 10.에 나타내었다.  이 때 AGV의 속도 100m/분, 가감속시간지연 7.5초일 때의 AGV처리속도를 100%로 하고 일괄처리갯수 4개인 경우에 대해서 AGV의 처리속도를 변화시키면서 시뮬레이션을 수행한 결과 AGV의 처리속도가 증가함에 따라 평균대기시간은 현저하게 줄어들다가  100%이상이 되면 평균대기시간의 변화가 경미한 것으로 나타났다.  이로부터 AGV의 처리속도는 적절한 것으로 볼 수 있으며 이에 대한 시뮬레이션 결과를 그림 11.에 나타내었다.
이상과 같이 결정된 AGV의 처리속도와 일괄작업갯수에 대하여 AS/RS의 처리속도를 변화시키며 시뮬레이션을 수행하여 적절한 AS/RS의 처리속도를 결정한다.  AS/RS Stacker Crane의 X축속도 692mm/s, Y축속도 905mm/s, Stacking 시간 2.3초 일때의 처리속도를 100%로 놓았을 때 처리속도변화에 대한 평균대기시간의 변화를 그림 12.에 나타내었으며 이로부터 AS/RS의 처리속도가 적절함을 알 수 있다.  

4.4 시스템 설치 및 운용결과

강남성모병원의 자동물류취급시스템은 1대의 AGV와 1대의 소형 AS/RS, 이들을 이어주는 콘베이어 벨트들, 물류의 이동을 점검하기 위한 5대의 바코드터미널과 1대의 Host PC로 구성되어 있다.  각 가공군은 직선운동을 하는 AGV에 의하여 연결되며 검사공정과 AS/RS, AS/RS와 출고공정은 콘베이어 벨트에 의해 연결이 된다.  AGV와 AS/RS의 제어는 각각 독립적으로 이루어지며 AS/RS의 운용, 각 물류의 이동에 대한 점검과 AS/RS에서의 물류식별은 바코드 터미널과 연결된 Host PC에 의하여 이루어진다.  이상의 자동물류취급시스템의 구성도를 그림 13.에 나타내었으며 Host PC의 운용 S/W의 구조도를 그림 14.에 나타내었다.  
자동물류취급시스템의 가동은 1993년 7월 10일부터 시작되어 현재 운용중에 있으며 1993년 11월에 측정된 한달간의 투약대기시간과 시스템설치전인 1991년 5월에 측정된 투약대기시간을 그림 15.에 나타내었다.  또한 1993년 11월에 측정된 AGV와 AS/RS의 시간별 가동률을 그림 16.에 나타내었다.  투약대기시간을 자동물류취급시스템이 설치되기 전인 1991년 5월과 비교하면 일일당 평균 처방전 매수는 1080개에서 1217개로 12.6%가 증가하였으나 평균투약대기시간은 58분에서 34분으로 41%정도 감소한 것으로 나타났으며 최대투약대기시간또한 240분에서 114분으로 53%정도 감소한 것으로 나타났다.

4.5  결과비교 및 분석

시뮬레이션으로 예측한 결과를 실제결과와 비교하기 위하여 시뮬레이션으로 얻은 시간별 AGV가동률을 측정된 가동률과 함께 그림 17.에 나타내었으며 AS/RS의 시뮬레이션 가동률과 측정된 가동률을 그림 18.에 나타내었다.  이 경우 시뮬레이션의 조건을 시스템의 설치전과 달라진 실제의 조건에 근사시키기 위하여 물류입력, 즉 처방전의 발생빈도에 일정한 가중치를 주어 실제물류입력갯수와 비슷한 1230개로 조정하여 시뮬레이션을 수행하였다.  가동률의 비교에서 알 수 있듯이 AS/RS의 가동률의 경향과 수치는 실제상황과 유사하게 나타났으나 AGV의 가동률은 시뮬레이션 예측 결과가 실제의 가동률과 비교시 경향은 유사하지만 수치가 비교적 높게 나타났다.  이는 실제 AGV의 물류운반량이 정해진 일괄작업갯수를 초과하는 경우가 빈번하며, 또한 조제실내의 물류운반이 전적으로 AGV에 의존하지 않고 근무 약사들의 손에 의하여 운반되는 경우가 빈번히 발생하기 때문인 것으로 분석된다.  실례로서 시뮬레이션시의 AGV의 물류운반량은 일괄처리갯수4개로 고정되어 있으나 실제로는 4개를 초과하여 많게는 20개까지의 약을 동시에 운반하는 경우가 많이 발생한다.  또한 조제중인 약사들이 약이 조제되는 데로 AGV를 이용하지 않고 손으로 직접 전달하는 경우 역시 자주 발생한다. 
시뮬레이션을 통하여 예측된 시간별 평균투약대기시간과 측정된 시간별 평균투약대기시간을 비교하여 그림 19.에 나타내었으며 전체평균투약시간과 최대투약시간을 그림 20.에 나타내었다.  시뮬레이션의 시간별 투약대기시간에 대한 통계치는 오전 9:30부터 오후 6:30사이에 조제된 약만을 대상으로 통계를 냈는데 그 이유는 일괄작업의 갯수가 고정된 시뮬레이션의 경우 처방전의 도착시간간격이 매우 길은 8:30부터 9:30사이는 실제와는 달리 일괄작업을 기다리는 시간이 비현실적으로 길어지므로 실제측정치와의 비교가 의미가 없기 때문이다.  또한 이 시간간격에 발생하는 처방전의 갯수는 전체 조제된 약의 갯수에비해 매우 적으므로 전체결과에 거의 영향을 끼치지 않는다.  
시간별 투약대기시간을 비교해보면 시뮬레이션 결과와 실제 측정치가 대체로 비슷한 경향을 보이고 있으나 시뮬레이션 결과의 투약대기시간이 전체적으로 작게 나타나고 있고 전체투약대기시간을 비교하면 평균투약대기시간에서 약10분정도의 차이를 보이고 있는 것을 알 수 있다. 이는 시뮬레이션에 사용된 공정별 소요시간에 실제에서 일어나는 인적인 지연 요인이 제외되었다는 데에서 이유를 찾을 수 있다.  
5. 결 론

본 연구에서는 자동물류취급시스템이 설치되어진 생산시스템에 대한 성능평가를 수행할 수 있는 모델을 개발하는 기반을 제공하였으며, 이를 실제사례에 적용하여, 주어진 생산시스템에 적합한 자동물류취급시스템의 설계 및 실시간 운용에 관한 연구를 수행하였다. 
생산시스템에 대한 성능평가를 위하여, 다품종소량생산시스템을 모델링하기에 적합한 Colored and Stochastic 페트리네트를 정의하였으며, 이를 강남성모병원 외래약국의 경우에 적용하여 모델링을 실시하고 시뮬레이션을 수행하여 자동물류취급시스템의 설치시 고려되어야 하는 설계변수들을 결정하였다.
이와 같이 결정되어진 설계변수를 기반으로 강남성모병원 외래약국에 자동물류취급시스템을 설치하였으며, 설치후에 측정되어진 AGV와 AS/RS의 가동률, 시간별 투약대기시간을 시뮬레이션에서 얻어진 결과와 비교하여 시뮬레이션의 타당성을 검증하였다.
또한, 자동물류취급시스템이 설치되어지기 전의 투약대기시간과 설치되어진 후의 투약대기시간 비교를 통하여 설계변수의 타당성을 확인하였다.
본 연구에서 얻어진 결론을 정리하면 다음과 같다.
(1) 다양한 정보처리와 실시간 이산현상시스템의 해석 및 검증을 위하여 Colored and Stochastic 페트리네트를 정의하고 이를 이용하여 자동물류취급시스템이 설치되어진 생산시스템에 대한 모델링을 수행하였다.
(2) Colored and Stochastic페트리네트 모델에 대한 시뮬레이션을 수행하는 소프트웨어를 개발하여 주어진 모델의 성능평가를 수행하였다.  
(3) 자동물류취급시스템의 설계변수를 결정하는 알고리즘을 제시하였으며 이에 의거한 시뮬레이션을 통하여 적절한 설계변수를 결정하였다. 

</tdmsfiletext>
